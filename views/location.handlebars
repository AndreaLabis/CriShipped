{{> style}}
{{> nav}}

<div class="location-container bg-white">
    <h4 id="map-h4">{{location.city}} Information</h4>
    <hr>
    <div class="forecast-table">
        <div class="container">
            <div class="forecast-container">
                <div class="today forecast">
                    <div class="forecast-header">
                        <div class="day">Current</div>
                        <div class="date"></div>
                    </div> <!-- .forecast-header -->
                    <div class="forecast-content">
                        <div class="location">{{ weather.name }}</div>
                        <div class="degree">
                            <div class="num">{{ weather.main.temp }}<sup>o</sup>F</div>
                            <div class="forecast-icon">
                                <img src="images/icons/icon-1.svg" alt="" width=90>
                            </div>
                        </div>
                        <span><img src="images/icon-umberella.png" alt="">Humidity: {{ weather.main.humidity }}%</span>
                        <span><img src="images/icon-wind.png" alt="">{{ weather.wind.speed }}km/h</span>
                        <span><img src="images/icon-compass.png" alt=""></span>
                    </div>
                </div>
                <div class="forecast">
                    <div class="forecast-header">
                        <div class="day">Tuesday</div>
                    </div> <!-- .forecast-header -->
                    <div class="forecast-content">
                        <div class="forecast-icon">
                            <img src="images/icons/icon-3.svg" alt="" width=48>
                        </div>
                        <div class="degree">23<sup>o</sup>C</div>
                        <small>18<sup>o</sup></small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="grid-container">
        <div class="col">
            <div id="map"></div>
            <h5>COVID-19 Pandemic</h5>
            <li>Nations affected: {{ covidData.affectedCountries }}</li>
            <li>Total cases: {{ covidData.cases }}</li>
            <li>Active cases: {{ covidData.active }}</li>
            <li>Deathes: {{ covidData.deaths }}</li>
        </div>
        <div class="col">
            <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="3"></li>
                    <li data-target="#carouselExampleCaptions" data-slide-to="4"></li>
                </ol>
                <div class="carousel-inner">
                    {{#each newsData}}
                    {{#if @first}}
                    <div class="carousel-item active">
                        <img src="{{this.urlToImage}}" class="news d-block w-100" alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>{{this.title}}</h5>
                            <p>{{this.description}}</p>
                            <a href="{{this.url}}" target="_blank"><i class="fas fa-link"></i> Get Story</a>
                        </div>
                    </div>

                    {{else}}
                    <div class="carousel-item">
                        <img src="{{this.urlToImage}}" class="news d-block w-100" alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>{{this.title}}</h5>
                            <p>{{this.description}}</p>
                            <a href="{{this.url}}" target="_blank"><i class="fas fa-link"></i> Get Story</a>
                        </div>
                    </div>
                    {{/if}}
                    {{/each}}
                </div>
                <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>

    <script>
        let city = "{{ location.city }}";
        let state = "{{ location.state }}";
    </script>
    <script src="/js/location.js"></script>